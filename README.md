# JiwaiCtl
磁歪測定装置制御用
## 測定手順
1. 装置を接続する
2. 接続先コイル確認画面で正しい接続先を入力する
3. load $filename$ で測定設定ファイルを読み込む  
    ./measure_sequence以下の場所を参照する  
4.  test で測定設定の検証を実施する
5.  measure で測定を実施する  
    測定時のログは各測定ごとにlogs以下に自動的に書き込まれる

## 測定設定ファイルの構造
測定設定ファイルの形式にはjsonを使用した。

    {
     "connect_to": "ELMG",
     "demag": false,
     "control": "oectl",
     "pre_lock_sec": 1.2,
     "post_lock_sec": 1.2,
     "seq": [
        [4000,3500,3000,2500,0,-5,-10,-15,-20,-3000,-3500,-4000 ],
        [-4000,-3500,-3000,-2500,0,5,10,15,20,3000,3500,4000 ]
     ],
     "verified":true
    }
   

"connect_to"で接続先を指定する。
ELMGで電磁石,HELMでヘルムホルツコイルとする。  
"demag"で測定前に消磁を実施するかを指定。  
"control"で制御方式を指定する。
currentで電流制御、oectlで磁界制御。  
"pre_lock_sec"は目標値に変更後に記録を行うまでのロック秒数  
"post_lock_sec"は記録後に次の命令を発行するまでのロック秒数  
"seq"で測定点を指定する。
単位は電流制御の場合はmA単位。磁界制御の場合はOe単位。  
ひとつながりで測定する測定点をリストにする。
複数のリストに分割することで一時中断して測定を行える。

"verified"は測定ファイルの検証を省略するかどうか。
